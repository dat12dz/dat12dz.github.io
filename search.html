<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="MainStyle.css">
    <title> Villa Web</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <script src="DataDef.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@1,900&display=swap" rel="stylesheet">

    
    <header>
        <p onclick=open(index.html);> THUÊ VILLA </p>
        <div id="topnavbase">
            <div id="topnav">
                <p>
                    <strong>
                        Địa điểm
                    </strong>

                </p>
                <div class="DropDownContent">
                    <div id="location">
                    </div>   
                    <p>
                        <strong>
                            Giá tiền (triệu)
                        </strong>
                    </p>
                    <a href="search.html?price=5-7">5 - 7</a>
                    <a href="search.html?price=7-9">7 - 9</a>
                    <a href="search.html?price=9-11">9 - 11</a>
                    <a href="search.html?price=u11">trên 11</a>

                </div>

            </div>
            <div id="topnav">
                <p>
                    <strong>
                        Lọc
                    </strong>
                </p>
                <div class="DropDownContent">
                    <p>
                        <strong>
                            Lọc theo người
                        </strong>
                    </p>
                    <a href="search.html?people=5-7">5 - 7 người</a>
                    <a href="search.html?people=6-10">6 - 10 người</a>
                    <a href="search.html?people=10-15">10 - 15 người</a>
                    <a href="search.html?people=U15">Trên 15 người</a>
                </div>
            </div>
    </header>



   

   
    



    
   
    <br>

    <form id=GirdShowVillaInfo class="grid-container">
    </form>


    <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const l = urlParams.get('l');
        const people = urlParams.get('people');
        const price = urlParams.get('price');
        var SoNguoiMin = 5;
        var SoNguoiMax = 7;
        if (people == "6-10")
        {
            SoNguoiMin = 6;
            SoNguoiMax = 10;
        }
        if (people == "10-15")
        {
            SoNguoiMin = 10;
            SoNguoiMax = 15;
        }
        if (people == "15")
        {
            SoNguoiMin = 15;
            SoNguoiMax = 999999;
        }
        var GiaTienMin = 5;
        var GiaTienMax = 7;
        if (price == "7-9")
        {
            GiaTienMax = 9;
            GiaTienMin = 7;
        }
        if (price == "9-11")
        {
            GiaTienMax = 11;
            GiaTienMin = 9;
        }
        if (price == "u11")
        {
            GiaTienMax = 999999;
            GiaTienMin = 11;
        }
        var SoVilla = 0;
        VillaDataBase.VillaList.forEach(ShowVillaInfo);
        function ShowVillaInfo(VillaInfo) {
            if ( 
                (VillaInfo.Location == parseInt(l) && l != null) ||
                 (SoNguoiMax >= VillaInfo.SoNguoi && SoNguoiMin <= VillaInfo.SoNguoi && people !=null) ||
                  (GiaTienMax*1000000 >= VillaInfo.GiaTien && GiaTienMin*1000000 <= VillaInfo.GiaTien && price != null)               
                )
                {
                    SoVilla++;
                    var MainPicture = VillaInfo.MainPicLink;
                    var VillaViewPage = VillaInfo.hrefLink;
                    document.getElementById("GirdShowVillaInfo").innerHTML += '<a href= ' + encodeURIComponent(VillaViewPage) + ' class="ButtonShowInfoVilla"> <p  class="VillaName">'
                     + VillaInfo.VillaName + '</p> <image id = "ShowVillaImg" src= ' + encodeURIComponent(MainPicture) + ' alt =' + VillaInfo.VillaName +
                    '> </p>  <p class="VillaInfo">' + VillaInfo.description;
                }

        }
        if (SoVilla == 0){
                    document.getElementById("GirdShowVillaInfo").innerHTML += " Không có kết quả"
                }
    </script>

    <footer>

        <h4 style="color: rgb(255, 255, 255); font-family: Arial, Helvetica, sans-serif; font-weight: 100; text-align: end;">
            @ Liên hệ với chúng tôi:
            <a href="https://www.facebook.com/NENEsokiu" style=" color: aliceblue; display: inline;">Facebook</a>
            <Br> SĐT: <a href="tel:0825685636" style=" color: aliceblue;">09696969696</a>
            <br style="color:gray;">@Copyright Datdau Techonologies</br>
        </h4>


        <div class="Footer">

        </div>
    </footer>
</body>
</html>
